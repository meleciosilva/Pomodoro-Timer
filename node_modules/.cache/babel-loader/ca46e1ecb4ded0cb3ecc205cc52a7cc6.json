{"ast":null,"code":"var _jsxFileName = \"/Users/Melecio/thinkful/qualified-challenges/Project_Pomodoro_Timer_Qualified_1/src/pomodoro/Pomodoro.js\";\nimport React, { useState } from \"react\";\nimport classNames from \"../utils/class-names\";\nimport useInterval from \"../utils/useInterval\";\nimport { minutesToDuration, secondsToDuration } from '../utils/duration';\nimport FocusDuration from \"./FocusDuration\";\nimport BreakDuration from \"./BreakDuration\";\n\nfunction Pomodoro() {\n  // Starts with session awaiting start\n  const [session, setSession] = useState(false); // Timer starts out paused\n\n  const [isTimerRunning, setIsTimerRunning] = useState(false); // Focus time starts at 25 minutes\n\n  const [focusTime, setFocusTime] = useState(25); // Break time starts at 5 minutes\n\n  const [breakTime, setBreakTime] = useState(5); // Pomodoro play time starts at 25 minutes (1500 seconds)\n\n  const [playTime, setPlayTime] = useState(1500); // adds 5 minutes of focusTime & playTime up to 60 minutes\n\n  function addFocus() {\n    setFocusTime(prevTime => prevTime < 60 ? prevTime + 5 : prevTime);\n    setPlayTime(prevTime => prevTime < 3600 ? prevTime + 300 : prevTime);\n  } // reduces 5 minutes of focusTime & playTime down to 5 minutes\n\n\n  function reduceFocus() {\n    setFocusTime(prevTime => prevTime > 5 ? prevTime - 5 : prevTime);\n    setPlayTime(prevTime => prevTime > 300 ? prevTime - 300 : prevTime);\n  } // adds 1 minute to break time up to 15 minutes\n\n\n  function addBreak() {\n    setBreakTime(prevTime => prevTime < 15 ? prevTime + 1 : prevTime);\n  } // reduces 1 minute of break time down to 1 minute\n\n\n  function reduceBreak() {\n    setBreakTime(prevTime => prevTime > 1 ? prevTime - 1 : prevTime);\n  } // Decrements pomodoro time by 1 second when the timer is running\n\n\n  function decrementTime() {\n    if (playTime >= 1) setPlayTime(prevState => prevState - 1);\n  } // Starts Pomodoro timer on focus mode\n\n\n  const [isFocused, setIsFocused] = useState(true); // switches between focus and break mode when time runs out and plays bell\n\n  function switchModes() {\n    if (playTime < 1) {\n      setPlayTime(isFocused ? breakTime * 60 : focusTime * 60);\n      setIsFocused(current => !current);\n      new Audio(`https://bigsoundbank.com/UPLOAD/mp3/1482.mp3`).play();\n    }\n  } // Set intial state of progress bar to 0%\n\n\n  const [progress, setProgress] = useState(0); // increases progress bar completion\n\n  function increaseProgress() {\n    if (playTime < 1) return setProgress(0);\n\n    if (isFocused) {\n      setProgress(prevState => prevState + 1 / (focusTime * 60) * 100);\n    } else {\n      setProgress(prevState => prevState + 1 / (breakTime * 60) * 100);\n    }\n  } // Invokes decrementTime, switchModes, and increaseProgress functions every 1000ms (1 sec) when the timer is running\n\n\n  useInterval(() => {\n    decrementTime();\n    switchModes();\n    increaseProgress();\n  }, isTimerRunning ? 1000 : null); // sets timer on or off when play/pause button is pressed and starts session (displays countdown)\n\n  function playPause() {\n    setSession(true);\n    setIsTimerRunning(prevState => !prevState);\n  } // stops the session and timer, resets playTime to last selected focusTime, and resets to focus mode for next start\n\n\n  function stopSession() {\n    setSession(false);\n    setIsTimerRunning(false);\n    setIsFocused(true);\n    setPlayTime(focusTime * 60);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pomodoro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FocusDuration, {\n    focusTime: focusTime,\n    handleAdd: addFocus,\n    handleReduce: reduceFocus,\n    inSession: session,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BreakDuration, {\n    breakTime: breakTime,\n    handleAdd: addBreak,\n    handleReduce: reduceBreak,\n    inSession: session,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-group btn-group-lg mb-2\",\n    role: \"group\",\n    \"aria-label\": \"Timer controls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    \"data-testid\": \"play-pause\",\n    title: \"Start or pause timer\",\n    onClick: playPause,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames({\n      oi: true,\n      \"oi-media-play\": !isTimerRunning,\n      \"oi-media-pause\": isTimerRunning\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    title: \"Stop the session\",\n    onClick: stopSession,\n    disabled: !session,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"oi oi-media-stop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: session ? 'block' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    \"data-testid\": \"session-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, isFocused ? \"Focusing\" : \"On Break\", \" for \", minutesToDuration(isFocused ? focusTime : breakTime), \" minutes\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    \"data-testid\": \"session-sub-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, secondsToDuration(playTime), \" remaining\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: isTimerRunning ? 'none' : 'block',\n      fontSize: 36\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, \"PAUSED\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress\",\n    style: {\n      height: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress-bar\",\n    role: \"progressbar\",\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": isFocused ? focusTime : breakTime,\n    \"aria-valuenow\": progress // TODO: Increase aria-valuenow as elapsed time increases\n    ,\n    style: {\n      width: `${progress}%`\n    } // TODO: Increase width % as elapsed time increases\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }))))));\n}\n\nexport default Pomodoro;","map":{"version":3,"sources":["/Users/Melecio/thinkful/qualified-challenges/Project_Pomodoro_Timer_Qualified_1/src/pomodoro/Pomodoro.js"],"names":["React","useState","classNames","useInterval","minutesToDuration","secondsToDuration","FocusDuration","BreakDuration","Pomodoro","session","setSession","isTimerRunning","setIsTimerRunning","focusTime","setFocusTime","breakTime","setBreakTime","playTime","setPlayTime","addFocus","prevTime","reduceFocus","addBreak","reduceBreak","decrementTime","prevState","isFocused","setIsFocused","switchModes","current","Audio","play","progress","setProgress","increaseProgress","playPause","stopSession","oi","display","fontSize","height","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport classNames from \"../utils/class-names\";\nimport useInterval from \"../utils/useInterval\";\nimport {minutesToDuration, secondsToDuration} from '../utils/duration';\nimport FocusDuration from \"./FocusDuration\";\nimport BreakDuration from \"./BreakDuration\";\n\nfunction Pomodoro() {\n  // Starts with session awaiting start\n  const [session, setSession] = useState(false);\n  \n  // Timer starts out paused\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n  \n  // Focus time starts at 25 minutes\n  const [focusTime, setFocusTime] = useState(25);\n\n  // Break time starts at 5 minutes\n  const [breakTime, setBreakTime] = useState(5);\n\n  // Pomodoro play time starts at 25 minutes (1500 seconds)\n  const [playTime, setPlayTime] = useState(1500);\n\n  // adds 5 minutes of focusTime & playTime up to 60 minutes\n  function addFocus() {\n    setFocusTime(prevTime => prevTime < 60 ? prevTime + 5 : prevTime);\n    setPlayTime(prevTime => prevTime < 3600 ? prevTime + 300 : prevTime);\n  }\n  \n  // reduces 5 minutes of focusTime & playTime down to 5 minutes\n  function reduceFocus() {\n    setFocusTime(prevTime => prevTime > 5 ? prevTime - 5 : prevTime);\n    setPlayTime(prevTime => prevTime > 300 ? prevTime - 300 : prevTime);\n  }\n\n  // adds 1 minute to break time up to 15 minutes\n  function addBreak() {\n    setBreakTime(prevTime => prevTime < 15 ? prevTime + 1 : prevTime);\n  }\n  \n  // reduces 1 minute of break time down to 1 minute\n  function reduceBreak() {\n    setBreakTime(prevTime => prevTime > 1 ? prevTime - 1 : prevTime);\n  }\n\n  // Decrements pomodoro time by 1 second when the timer is running\n  function decrementTime() {\n    if (playTime >= 1) setPlayTime(prevState => prevState - 1);\n  } \n\n  // Starts Pomodoro timer on focus mode\n  const [isFocused, setIsFocused] = useState(true);\n\n  // switches between focus and break mode when time runs out and plays bell\n  function switchModes() {\n    if (playTime < 1) {\n      setPlayTime(isFocused ? breakTime * 60 : focusTime * 60);\n      setIsFocused((current) => !current);\n      new Audio(`https://bigsoundbank.com/UPLOAD/mp3/1482.mp3`).play();\n    }\n  }\n\n  // Set intial state of progress bar to 0%\n  const [progress, setProgress] = useState(0);\n\n  // increases progress bar completion\n  function increaseProgress() {\n    if (playTime < 1) return setProgress(0);\n    if (isFocused) {\n      setProgress(prevState => prevState + 1/(focusTime*60) * 100);\n    } else {\n        setProgress(prevState => prevState + 1/(breakTime*60) * 100);\n    }\n  }\n\n  // Invokes decrementTime, switchModes, and increaseProgress functions every 1000ms (1 sec) when the timer is running\n  useInterval(\n    () => {\n      decrementTime();\n      switchModes();\n      increaseProgress();\n    },\n    isTimerRunning ? 1000 : null\n  );\n\n  // sets timer on or off when play/pause button is pressed and starts session (displays countdown)\n  function playPause() {\n    setSession(true);\n    setIsTimerRunning((prevState) => !prevState);\n  }\n\n  // stops the session and timer, resets playTime to last selected focusTime, and resets to focus mode for next start\n  function stopSession() {\n    setSession(false);\n    setIsTimerRunning(false);\n    setIsFocused(true);\n    setPlayTime(focusTime * 60);\n  }\n\n  return (\n    <div className=\"pomodoro\">\n      <div className=\"row\">\n        <FocusDuration focusTime={focusTime} handleAdd={addFocus} handleReduce={reduceFocus} inSession={session} />\n        <BreakDuration breakTime={breakTime} handleAdd={addBreak} handleReduce={reduceBreak} inSession={session} />\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col\">\n          <div\n            className=\"btn-group btn-group-lg mb-2\"\n            role=\"group\"\n            aria-label=\"Timer controls\"\n          >\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              data-testid=\"play-pause\"\n              title=\"Start or pause timer\"\n              onClick={playPause}\n            >\n              <span\n                className={classNames({\n                  oi: true,\n                  \"oi-media-play\": !isTimerRunning,\n                  \"oi-media-pause\": isTimerRunning,\n                })}\n              />\n            </button>\n            {/* TODO: Implement stopping the current focus or break session and disable when there is no active session */}\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              title=\"Stop the session\"\n              onClick={stopSession}\n              disabled={!session}\n            >\n              <span className=\"oi oi-media-stop\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div style={{ display: session ? 'block' : 'none'}}>\n        {/* TODO: This area should show only when a focus or break session is running or pauses */}\n        <div className=\"row mb-2\">\n          <div className=\"col\">\n            {/* TODO: Update message below to include current session (Focusing or On Break) and total duration */}\n            <h2 data-testid=\"session-title\">{isFocused ? \"Focusing\" : \"On Break\"} for {minutesToDuration(isFocused ? focusTime : breakTime)} minutes</h2>\n            {/* TODO: Update message below to include time remaining in the current session */}\n            <p className=\"lead\" data-testid=\"session-sub-title\">\n              {secondsToDuration(playTime)} remaining\n            </p>\n          </div>\n        </div>\n        <div style={{display: isTimerRunning ? 'none' : 'block', fontSize: 36}}>PAUSED</div>\n        <div className=\"row mb-2\">\n          <div className=\"col\">\n            <div className=\"progress\" style={{ height: \"20px\" }}>\n              <div\n                className=\"progress-bar\"\n                role=\"progressbar\"\n                aria-valuemin=\"0\"\n                aria-valuemax={isFocused ? focusTime : breakTime}      \n                aria-valuenow={progress} // TODO: Increase aria-valuenow as elapsed time increases\n                style={{ width: `${progress}%` }} // TODO: Increase width % as elapsed time increases\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Pomodoro;\n"]},"metadata":{},"sourceType":"module"}